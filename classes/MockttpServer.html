<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>MockttpServer | mockttp</title><meta name="description" content="Documentation for mockttp"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">mockttp</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">mockttp</a></li><li><a href="MockttpServer.html">MockttpServer</a></li></ul><h1>Class MockttpServer </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>A in-process Mockttp implementation. This starts servers on the local machine in the
current process, and exposes methods to directly manage them.</p>
</div><div><p>This class does not work in browsers, as it expects to be able to start HTTP servers.</p>
</div></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="tsd-signature-type">AbstractMockttp</span><ul class="tsd-hierarchy"><li><span class="target">MockttpServer</span></li></ul></li></ul></section><section class="tsd-panel"><h3>Implements</h3><ul class="tsd-hierarchy"><li><a href="../interfaces/Mockttp.html" class="tsd-signature-type" data-tsd-kind="Interface">Mockttp</a></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section "><h3>Accessors</h3><ul class="tsd-index-list"><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="MockttpServer.html#port" class="tsd-kind-icon">port</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#proxyEnv" class="tsd-kind-icon">proxy<wbr/>Env</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#url" class="tsd-kind-icon">url</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#addRequestRule" class="tsd-kind-icon">add<wbr/>Request<wbr/>Rule</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#addRequestRules" class="tsd-kind-icon">add<wbr/>Request<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#addWebSocketRule" class="tsd-kind-icon">add<wbr/>Web<wbr/>Socket<wbr/>Rule</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#addWebSocketRules" class="tsd-kind-icon">add<wbr/>Web<wbr/>Socket<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#enableDebug" class="tsd-kind-icon">enable<wbr/>Debug</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forAnyRequest" class="tsd-kind-icon">for<wbr/>Any<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forAnyWebSocket" class="tsd-kind-icon">for<wbr/>Any<wbr/>Web<wbr/>Socket</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forDelete" class="tsd-kind-icon">for<wbr/>Delete</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forGet" class="tsd-kind-icon">for<wbr/>Get</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forHead" class="tsd-kind-icon">for<wbr/>Head</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forOptions" class="tsd-kind-icon">for<wbr/>Options</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forPatch" class="tsd-kind-icon">for<wbr/>Patch</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forPost" class="tsd-kind-icon">for<wbr/>Post</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forPut" class="tsd-kind-icon">for<wbr/>Put</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forUnmatchedRequest" class="tsd-kind-icon">for<wbr/>Unmatched<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#getMockedEndpoints" class="tsd-kind-icon">get<wbr/>Mocked<wbr/>Endpoints</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#getPendingEndpoints" class="tsd-kind-icon">get<wbr/>Pending<wbr/>Endpoints</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#getRuleParameterKeys" class="tsd-kind-icon">get<wbr/>Rule<wbr/>Parameter<wbr/>Keys</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#on" class="tsd-kind-icon">on</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#reset" class="tsd-kind-icon">reset</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#setRequestRules" class="tsd-kind-icon">set<wbr/>Request<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#setWebSocketRules" class="tsd-kind-icon">set<wbr/>Web<wbr/>Socket<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#start" class="tsd-kind-icon">start</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#stop" class="tsd-kind-icon">stop</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#urlFor" class="tsd-kind-icon">url<wbr/>For</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">new <wbr/>Mockttp<wbr/>Server<span class="tsd-signature-symbol">(</span>options<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MockttpOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">MockttpOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="MockttpServer.html" class="tsd-signature-type" data-tsd-kind="Class">MockttpServer</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides AbstractMockttp.constructor</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L90">src/server/mockttp-server.ts:90</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>options: <a href="../interfaces/MockttpOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">MockttpOptions</a><span class="tsd-signature-symbol"> = {}</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="MockttpServer.html" class="tsd-signature-type" data-tsd-kind="Class">MockttpServer</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Accessors</h2><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="port" class="tsd-anchor"></a><h3 class="tsd-anchor-link">port<a href="#port" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> port<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#port">port</a></p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L208">src/server/mockttp-server.ts:208</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The port the server is running on.</p>
</div><div><p>This will throw an error if read before the server is started.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class tsd-is-inherited"><a id="proxyEnv" class="tsd-anchor"></a><h3 class="tsd-anchor-link">proxy<wbr/>Env<a href="#proxyEnv" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> proxyEnv<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/ProxyEnvConfig.html" class="tsd-signature-type" data-tsd-kind="Interface">ProxyEnvConfig</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#proxyEnv">proxyEnv</a></p><p>Inherited from AbstractMockttp.proxyEnv</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L726">src/mockttp.ts:726</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The environment variables typically needed to use this server as a proxy, in a format you
can add to your environment straight away.</p>
</div><div><p>This will throw an error if read before the server is started.</p>
<pre><code><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-0">env</span><span class="hl-1"> = </span><span class="hl-6">Object</span><span class="hl-1">.</span><span class="hl-4">assign</span><span class="hl-1">(</span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-0">env</span><span class="hl-1">, </span><span class="hl-0">mockServer</span><span class="hl-1">.</span><span class="hl-0">proxyEnv</span><span class="hl-1">)</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/ProxyEnvConfig.html" class="tsd-signature-type" data-tsd-kind="Interface">ProxyEnvConfig</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class tsd-is-overwrite"><a id="url" class="tsd-anchor"></a><h3 class="tsd-anchor-link">url<a href="#url" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> url<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#url">url</a></p><p>Overrides AbstractMockttp.url</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L198">src/server/mockttp-server.ts:198</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The root URL of the server.</p>
</div><div><p>This will throw an error if read before the server is started.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="addRequestRule" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Request<wbr/>Rule<a href="#addRequestRule" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">add<wbr/>Request<wbr/>Rule<span class="tsd-signature-symbol">(</span>rule<span class="tsd-signature-symbol">: </span><a href="../interfaces/RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#addRequestRule">addRequestRule</a></p><p>Inherited from AbstractMockttp.addRequestRule</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L738">src/mockttp.ts:738</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the given HTTP request rule to the server.</p>
</div><div><p>This is a convenient alias for calling <code>addRequestRules</code> with one rule,
and extracting the first endpoint result.</p>
<p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>rule: <a href="../interfaces/RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a id="addRequestRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Request<wbr/>Rules<a href="#addRequestRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">add<wbr/>Request<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="../interfaces/RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#addRequestRules">addRequestRules</a></p><p>Overrides AbstractMockttp.addRequestRules</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L231">src/server/mockttp-server.ts:231</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the given HTTP request rules to the server.</p>
</div><div><p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="../interfaces/RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="addWebSocketRule" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Web<wbr/>Socket<wbr/>Rule<a href="#addWebSocketRule" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">add<wbr/>Web<wbr/>Socket<wbr/>Rule<span class="tsd-signature-symbol">(</span>rule<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#addWebSocketRule">addWebSocketRule</a></p><p>Inherited from AbstractMockttp.addWebSocketRule</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L744">src/mockttp.ts:744</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the given websocket rule to the server.</p>
</div><div><p>This is a convenient alias for calling <code>addWebSocketRules</code> with one rule,
and extracting the first endpoint result.</p>
<p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>rule: <a href="../interfaces/WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a id="addWebSocketRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Web<wbr/>Socket<wbr/>Rules<a href="#addWebSocketRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">add<wbr/>Web<wbr/>Socket<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#addWebSocketRules">addWebSocketRules</a></p><p>Overrides AbstractMockttp.addWebSocketRules</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L248">src/server/mockttp-server.ts:248</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the given websocket rules to the server.</p>
</div><div><p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="../interfaces/WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="enableDebug" class="tsd-anchor"></a><h3 class="tsd-anchor-link">enable<wbr/>Debug<a href="#enableDebug" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">enable<wbr/>Debug<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#enableDebug">enableDebug</a></p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L176">src/server/mockttp-server.ts:176</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Enable extra debug output so you can understand exactly what the server is doing.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forAnyRequest" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Any<wbr/>Request<a href="#forAnyRequest" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Any<wbr/>Request<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forAnyRequest">forAnyRequest</a></p><p>Inherited from AbstractMockttp.forAnyRequest</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L749">src/mockttp.ts:749</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match any requests on any path.</p>
</div><div><p>This only matches traditional HTTP requests, not websockets, which are handled
separately. To match websockets, use <code>.forAnyWebSocket()</code>.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forAnyWebSocket" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Any<wbr/>Web<wbr/>Socket<a href="#forAnyWebSocket" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Any<wbr/>Web<wbr/>Socket<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="WebSocketRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">WebSocketRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forAnyWebSocket">forAnyWebSocket</a></p><p>Inherited from AbstractMockttp.forAnyWebSocket</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L795">src/mockttp.ts:795</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match all websocket connections.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="WebSocketRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">WebSocketRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forDelete" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Delete<a href="#forDelete" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Delete<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forDelete">forDelete</a></p><p>Inherited from AbstractMockttp.forDelete</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L770">src/mockttp.ts:770</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match DELETE requests for the given path.
If no path is specified, this matches all DELETE requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forGet" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Get<a href="#forGet" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Get<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forGet">forGet</a></p><p>Inherited from AbstractMockttp.forGet</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L758">src/mockttp.ts:758</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match GET requests for the given path.
If no path is specified, this matches all GET requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forHead" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Head<a href="#forHead" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Head<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forHead">forHead</a></p><p>Inherited from AbstractMockttp.forHead</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L778">src/mockttp.ts:778</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match HEAD requests for the given path.
If no path is specified, this matches all HEAD requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forOptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Options<a href="#forOptions" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Options<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forOptions">forOptions</a></p><p>Inherited from AbstractMockttp.forOptions</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L782">src/mockttp.ts:782</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match OPTIONS requests for the given path.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
<p>This can only be used if the <code>cors</code> option has been set to false.</p>
<p>If cors is true (the default when using a remote client, e.g. in the browser),
then the mock server automatically handles OPTIONS requests to ensure requests
to the server are allowed by clients observing CORS rules.</p>
<p>You can pass <code>{cors: false}</code> to <code>getLocal</code>/<code>getRemote</code> to disable this behaviour,
but if you&#39;re testing in a browser you will need to ensure you mock all OPTIONS
requests appropriately so that the browser allows your other requests to be sent.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forPatch" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Patch<a href="#forPatch" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Patch<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forPatch">forPatch</a></p><p>Inherited from AbstractMockttp.forPatch</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L774">src/mockttp.ts:774</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match PATCH requests for the given path.
If no path is specified, this matches all PATCH requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forPost" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Post<a href="#forPost" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Post<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forPost">forPost</a></p><p>Inherited from AbstractMockttp.forPost</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L762">src/mockttp.ts:762</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match POST requests for the given path.
If no path is specified, this matches all POST requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forPut" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Put<a href="#forPut" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Put<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forPut">forPut</a></p><p>Inherited from AbstractMockttp.forPut</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L766">src/mockttp.ts:766</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match PUT requests for the given path.
If no path is specified, this matches all PUT requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="forUnmatchedRequest" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Unmatched<wbr/>Request<a href="#forUnmatchedRequest" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for<wbr/>Unmatched<wbr/>Request<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#forUnmatchedRequest">forUnmatchedRequest</a></p><p>Inherited from AbstractMockttp.forUnmatchedRequest</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L753">src/mockttp.ts:753</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a fallback mock rule that will match any unmatched requests
on any path.</p>
</div><div><p>Fallback rules act like any other rule, but they only match if there is no
existing normal rule that matches the request, or if all existing rules have
an explicit execution limit (like <code>once()</code>) that has been completed.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getMockedEndpoints" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Mocked<wbr/>Endpoints<a href="#getMockedEndpoints" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">get<wbr/>Mocked<wbr/>Endpoints<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#getMockedEndpoints">getMockedEndpoints</a></p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L256">src/server/mockttp-server.ts:256</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the set of currently registered mock endpoints.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getPendingEndpoints" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Pending<wbr/>Endpoints<a href="#getPendingEndpoints" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">get<wbr/>Pending<wbr/>Endpoints<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#getPendingEndpoints">getPendingEndpoints</a></p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L263">src/server/mockttp-server.ts:263</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the set of registered but pending mock endpoints: endpoints which either
haven&#39;t seen the specified number of requests (if one was specified
e.g. with .twice()) or which haven&#39;t seen at least one request, by default.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getRuleParameterKeys" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Rule<wbr/>Parameter<wbr/>Keys<a href="#getRuleParameterKeys" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">get<wbr/>Rule<wbr/>Parameter<wbr/>Keys<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">never</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#getRuleParameterKeys">getRuleParameterKeys</a></p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L274">src/server/mockttp-server.ts:274</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>List the names of the rule parameters available for rule definitions. These
parameters are defined by the admin server. This list can be used in some
advanced use cases to confirm beforehand that the parameters a client wishes to
reference are available.</p>
</div><div><p>Only relevant to remote/browser Mockttp usage. Servers created directly without any
admin server will never have rule parameters defined, and so this method will always
return an empty list.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">never</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a id="on" class="tsd-anchor"></a><h3 class="tsd-anchor-link">on<a href="#on" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;request-initiated&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;request&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;response&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;abort&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;websocket-request&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;websocket-accepted&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;websocket-message-received&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketMessage.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketMessage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;websocket-message-sent&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketMessage.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketMessage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;websocket-close&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>close<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketClose.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketClose</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;tls-client-error&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;client-error&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><a href="../interfaces/ClientError.html" class="tsd-signature-type" data-tsd-kind="Interface">ClientError</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L278">src/server/mockttp-server.ts:278</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about request details as soon as the initial request details
(method, path &amp; headers) are received, without waiting for the body.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all requests seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;request-initiated&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="../interfaces/InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L279">src/server/mockttp-server.ts:279</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about request details once the request is fully received.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all requests seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;request&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="../interfaces/CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L280">src/server/mockttp-server.ts:280</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about response details when the response is completed.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all requests seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;response&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="../interfaces/CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L281">src/server/mockttp-server.ts:281</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about websocket connection requests. This event fires when the
initial WebSocket request is completed, regardless of whether the request is
accepted.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all websockets seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;abort&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="../interfaces/InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L282">src/server/mockttp-server.ts:282</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about websocket connection upgrades. This event fires when a
WebSocket request is accepted, returning the HTTP response body that was sent
before the WebSocket stream starts.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all websockets seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;websocket-request&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="../interfaces/CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L283">src/server/mockttp-server.ts:283</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about websocket messages received by Mockttp from its downstream
websocket clients. This event fires whenever any data is received on an open
mocked WebSocket.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all websockets seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;websocket-accepted&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="../interfaces/CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L284">src/server/mockttp-server.ts:284</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about websocket messages sent by Mockttp to its downstream
websocket clients. This event fires whenever any data is sent on an open
mocked WebSocket.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all websockets seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;websocket-message-received&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketMessage.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketMessage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketMessage.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketMessage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="../interfaces/WebSocketMessage.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketMessage</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L285">src/server/mockttp-server.ts:285</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear when a websocket connection is closed. This fires only for clean
websocket shutdowns, after the websocket was initially accepted. If the connection
is closed uncleanly, an &#39;abort&#39; event will fire instead. If the websocket was
initially rejected explicitly, a &#39;response&#39; event (with the rejecting response) will
fire instead.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all websockets seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;websocket-message-sent&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketMessage.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketMessage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketMessage.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketMessage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="../interfaces/WebSocketMessage.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketMessage</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L286">src/server/mockttp-server.ts:286</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about requests that are aborted before the request or
response is fully completed.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all requests seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;websocket-close&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>close<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketClose.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketClose</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>close<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketClose.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketClose</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>close: <a href="../interfaces/WebSocketClose.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketClose</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L287">src/server/mockttp-server.ts:287</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about requests that start a TLS handshake, but fail to complete it.
Not all clients report TLS errors explicitly, so this event fires for explicitly
reported TLS errors, and for TLS connections that are immediately closed with no
data sent.</p>
</div><div><p>This is typically useful to detect clients who aren&#39;t correctly configured to trust
the configured HTTPS certificate. The callback is given the host name provided
by the client via SNI, if SNI was used (it almost always is).</p>
<p>This is only useful in some niche use cases, such as logging all requests seen
by the server, independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;tls-client-error&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="../interfaces/TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="../interfaces/TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#on">on</a></p><p>Overrides AbstractMockttp.on</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L288">src/server/mockttp-server.ts:288</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about requests that fail before successfully sending their
initial parameters (the request line &amp; headers). This will fire for requests
that drop connections early, send invalid or too-long headers, or aren&#39;t
correctly parseable in some form.</p>
</div><div><p>This is typically useful to detect clients who aren&#39;t correctly configured.
The callback is given an object containing the request (as we were best
able to parse it) and either the error response returned, or &#39;aborted&#39;
if the connection was disconnected before the server could respond.</p>
<p>This is only useful in some niche use cases, such as logging all requests
seen by the server, independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;client-error&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><a href="../interfaces/ClientError.html" class="tsd-signature-type" data-tsd-kind="Interface">ClientError</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><a href="../interfaces/ClientError.html" class="tsd-signature-type" data-tsd-kind="Interface">ClientError</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>error: <a href="../interfaces/ClientError.html" class="tsd-signature-type" data-tsd-kind="Interface">ClientError</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="reset" class="tsd-anchor"></a><h3 class="tsd-anchor-link">reset<a href="#reset" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">reset<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#reset">reset</a></p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L180">src/server/mockttp-server.ts:180</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Reset the stored rules and subscriptions. Most of the time it&#39;s better to start &amp; stop
the server instead, but this can be useful in some special cases.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a id="setRequestRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">set<wbr/>Request<wbr/>Rules<a href="#setRequestRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">set<wbr/>Request<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="../interfaces/RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#setRequestRules">setRequestRules</a></p><p>Overrides AbstractMockttp.setRequestRules</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L222">src/server/mockttp-server.ts:222</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Set the given HTTP request rules as the only request rules on the server,
replacing any existing rules (except websocket rules).</p>
</div><div><p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="../interfaces/RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a id="setWebSocketRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">set<wbr/>Web<wbr/>Socket<wbr/>Rules<a href="#setWebSocketRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">set<wbr/>Web<wbr/>Socket<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="../interfaces/WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#setWebSocketRules">setWebSocketRules</a></p><p>Overrides AbstractMockttp.setWebSocketRules</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L239">src/server/mockttp-server.ts:239</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Set the given websocket rules as the only websocket rules on the server,
replacing all existing websocket rules (but leaving normal rules untouched).</p>
</div><div><p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="../interfaces/WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="ServerMockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Class">ServerMockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="start" class="tsd-anchor"></a><h3 class="tsd-anchor-link">start<a href="#start" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">start<span class="tsd-signature-symbol">(</span>portParam<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><a href="../modules.html#PortRange" class="tsd-signature-type" data-tsd-kind="Type alias">PortRange</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#start">start</a></p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L117">src/server/mockttp-server.ts:117</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Start a mock server.</p>
</div><div><p>Specify a fixed port if you need one.</p>
<p>If you don&#39;t, a random port will be chosen, which you can get later with <code>.port</code>,
or by using <code>.url</code> and <code>.urlFor(path)</code> to generate your URLs automatically.</p>
<p>If you need to allow port selection, but in a specific range, pass a
{ startPort, endPort } pair to define the allowed (inclusive) range.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>portParam: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><a href="../modules.html#PortRange" class="tsd-signature-type" data-tsd-kind="Type alias">PortRange</a><span class="tsd-signature-symbol"> = ...</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="stop" class="tsd-anchor"></a><h3 class="tsd-anchor-link">stop<a href="#stop" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">stop<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#stop">stop</a></p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/server/mockttp-server.ts#L168">src/server/mockttp-server.ts:168</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Stop the mock server and reset all rules and subscriptions.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a id="urlFor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">url<wbr/>For<a href="#urlFor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">url<wbr/>For<span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/Mockttp.html">Mockttp</a>.<a href="../interfaces/Mockttp.html#urlFor">urlFor</a></p><p>Inherited from AbstractMockttp.urlFor</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/eccc617/src/mockttp.ts#L733">src/mockttp.ts:733</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The URL for a given path on the server.</p>
</div><div><p>This will throw an error if read before the server is started.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>path: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="../modules/MockttpPluggableAdmin.html">Mockttp<wbr/>Pluggable<wbr/>Admin</a></li><li class=" tsd-kind-namespace"><a href="../modules/PluggableAdmin.html">Pluggable<wbr/>Admin</a></li><li class=" tsd-kind-namespace"><a href="../modules/completionCheckers.html">completion<wbr/>Checkers</a></li><li class=" tsd-kind-namespace"><a href="../modules/matchers.html">matchers</a></li><li class=" tsd-kind-namespace"><a href="../modules/requestHandlerDefinitions.html">request<wbr/>Handler<wbr/>Definitions</a></li><li class=" tsd-kind-namespace"><a href="../modules/requestHandlers.html">request<wbr/>Handlers</a></li><li class=" tsd-kind-namespace"><a href="../modules/webSocketHandlerDefinitions.html">web<wbr/>Socket<wbr/>Handler<wbr/>Definitions</a></li><li class=" tsd-kind-namespace"><a href="../modules/webSocketHandlers.html">web<wbr/>Socket<wbr/>Handlers</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class"><a href="MockttpServer.html" class="tsd-kind-icon">Mockttp<wbr/>Server</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="MockttpServer.html#port" class="tsd-kind-icon">port</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#proxyEnv" class="tsd-kind-icon">proxy<wbr/>Env</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#url" class="tsd-kind-icon">url</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#addRequestRule" class="tsd-kind-icon">add<wbr/>Request<wbr/>Rule</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#addRequestRules" class="tsd-kind-icon">add<wbr/>Request<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#addWebSocketRule" class="tsd-kind-icon">add<wbr/>Web<wbr/>Socket<wbr/>Rule</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#addWebSocketRules" class="tsd-kind-icon">add<wbr/>Web<wbr/>Socket<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#enableDebug" class="tsd-kind-icon">enable<wbr/>Debug</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forAnyRequest" class="tsd-kind-icon">for<wbr/>Any<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forAnyWebSocket" class="tsd-kind-icon">for<wbr/>Any<wbr/>Web<wbr/>Socket</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forDelete" class="tsd-kind-icon">for<wbr/>Delete</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forGet" class="tsd-kind-icon">for<wbr/>Get</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forHead" class="tsd-kind-icon">for<wbr/>Head</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forOptions" class="tsd-kind-icon">for<wbr/>Options</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forPatch" class="tsd-kind-icon">for<wbr/>Patch</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forPost" class="tsd-kind-icon">for<wbr/>Post</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forPut" class="tsd-kind-icon">for<wbr/>Put</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#forUnmatchedRequest" class="tsd-kind-icon">for<wbr/>Unmatched<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#getMockedEndpoints" class="tsd-kind-icon">get<wbr/>Mocked<wbr/>Endpoints</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#getPendingEndpoints" class="tsd-kind-icon">get<wbr/>Pending<wbr/>Endpoints</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#getRuleParameterKeys" class="tsd-kind-icon">get<wbr/>Rule<wbr/>Parameter<wbr/>Keys</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#on" class="tsd-kind-icon">on</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#reset" class="tsd-kind-icon">reset</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#setRequestRules" class="tsd-kind-icon">set<wbr/>Request<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="MockttpServer.html#setWebSocketRules" class="tsd-kind-icon">set<wbr/>Web<wbr/>Socket<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#start" class="tsd-kind-icon">start</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="MockttpServer.html#stop" class="tsd-kind-icon">stop</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><a href="MockttpServer.html#urlFor" class="tsd-kind-icon">url<wbr/>For</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>